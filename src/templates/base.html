<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		{% block meta %}
		<meta name="description" content="This is a Website where you can chat and interact with other people and post things of your live.">
		<meta name="keywords" content="Chat, Post, Interaction, Accounts, Profiles, Social Media">
		<meta name="author" content="Dario Patt">

		<meta name="og:title" content="BlogChat">
		<meta name="og:description" content="An interactive website with chats, posts and much more...">
		<meta name="og:image" content="">
		<meta name="og:url" content="{% url 'posts:home' %}">
		<meta name="og:type" content="website">
		
		{% endblock meta %}
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU"
			crossorigin="anonymous"
		/>
		<link
			href="https://fonts.googleapis.com/css2?family=Material+Icons"
			rel="stylesheet"
		/>
		<title>{% block title %}{% endblock title %}</title>
	</head>
	<body>
		<header>
			{% include "snippets/header.html" %}
		</header>
		{% include "snippets/base_css.html" %} {% include "snippets/base_js.html" %}

		<div class="container" id="id_loading_spinner" style="display: none">
			<div class="d-flex flex-row mx-auto flex-grow-1 justify-content-center">
				<div class="spinner-grow" role="status">
					<span class="visually-hidden">Loading...</span>
				</div>
			</div>
		</div>
        

		<style>
			.main {
				min-height: 100vh;
				height: 100%;
			}
		</style>

		<div class="main">{% block content %} {% endblock content %}</div>

		<footer>
			{% include "snippets/footer.html" %}
		</footer>

		<script>
			const mainBackgroundColor = "--main-background-color";
			const darkBackgroundColor = "--dark-background-color";
			const mainTextColor = "--main-text-color";
			const bsGray500 = "--bs-gray-500";
			const bsGray600 = "--bs-gray-600";
			const bsGray900 = "--bs-gray-900";
			const bsDark = "--bs-dark";
			const darkVar = "--dark";
			const bsDarkRgb = "--bs-dark-rgb";

			var theme = localStorage.getItem("theme");
			
			if (theme == null) {
				localStorage.setItem("theme", "dark");
			}
			if (theme == "light") {
				lightStyle();
			} else {
				darkStyle();
			}

			function darkStyle() {
				document.documentElement.style.setProperty(mainBackgroundColor, "#f2f2f2");
				document.documentElement.style.setProperty(darkBackgroundColor, "#353535");
				document.documentElement.style.setProperty(mainTextColor, "#f2f2f2");
				document.documentElement.style.setProperty(bsGray500, "#adb5bd");
				document.documentElement.style.setProperty(bsGray600, "#6c757d");
				document.documentElement.style.setProperty(bsGray900, "#212529");
				document.documentElement.style.setProperty(bsDark, "#212529");
				document.documentElement.style.setProperty(darkVar, "#343a40");
				document.documentElement.style.setProperty(bsDarkRgb, "33,37,41");
			}

			function lightStyle() {
				document.documentElement.style.setProperty(mainBackgroundColor, "#353535");
				document.documentElement.style.setProperty(darkBackgroundColor, "#eaeaea");
				document.documentElement.style.setProperty(mainTextColor, "#404040");
				document.documentElement.style.setProperty(bsGray500, "#495057");
				document.documentElement.style.setProperty(bsGray600, "#343a40");
				document.documentElement.style.setProperty(bsGray900, "#f8f9fa");
				document.documentElement.style.setProperty(bsDark, "#f8f9fa");
				document.documentElement.style.setProperty(darkVar, "#495057");
				document.documentElement.style.setProperty(bsDarkRgb, "96,96,96");
			}

			function displayLoadingSpinner(isDisplayed) {
				var spinner = document.getElementById("id_loading_spinner");
				if (isDisplayed) {
					spinner.style.display = "block";
				} else {
					spinner.style.display = "none";
				}
			}
		</script>

		<script
			src="https://code.jquery.com/jquery-3.6.0.min.js"
			integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
			crossorigin="anonymous"
		></script>

		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
			crossorigin="anonymous"
		></script>
	</body>
</html>
